{
	"nodes":[
		{"id":"b4835539955f2dde","type":"group","x":494,"y":1760,"width":3547,"height":2640,"color":"6","label":"Propagation & Update"},
		{"id":"4d379e012818bbd7","type":"group","x":494,"y":180,"width":3866,"height":860,"color":"5","label":"Initialization"},
		{"id":"91b36805fe2d4b09","x":1220,"y":1880,"width":2360,"height":860,"color":"4","type":"group","label":"Propagation"},
		{"id":"316ea87fd9c96679","type":"group","x":2760,"y":-920,"width":2288,"height":858,"color":"3","label":"Visual Feature Frontend(Descriptor)"},
		{"id":"35cd4c30b1c5f05e","type":"group","x":494,"y":-920,"width":1849,"height":858,"color":"3","label":"Visual Feature Frontend (KLT Tracking)"},
		{"id":"87dd15a3517bbd78","type":"group","x":-1140,"y":-2209,"width":979,"height":649,"label":"Week 1"},
		{"id":"93055925b6ca036e","type":"group","x":-580,"y":-1380,"width":940,"height":547,"color":"4","label":"IMU Propagation"},
		{"id":"4ef1f340a0267aa2","type":"group","x":-1120,"y":-2000,"width":290,"height":400,"label":"ROS1Visualizer"},
		{"id":"d8265cc527169afd","type":"text","text":"#### [[🧩OpenVINS Code Analysis#visualize_final|visualize_final]]","x":-1100,"y":-1680,"width":250,"height":60},
		{"id":"f571800d8279ae23","type":"text","text":"[[🧩OpenVINS Code Analysis#callback_stereo|callback_stereo]]\n","x":-1100,"y":-1880,"width":250,"height":60},
		{"id":"8cb88f8cda3a7aa8","type":"text","text":"[[🧩OpenVINS Code Analysis#callback_inertial|callback_inertial]]\n","x":-1100,"y":-1980,"width":250,"height":60},
		{"id":"280a3c8c9c105d74","type":"text","text":"image가 다같이 동시에 들어왔을 때\ncamera_queue에 있는 image로\n#### [[🧩OpenVINS Code Analysis#feed_measurement_camera|VioManager::feed_measurement_camera]]  실행","x":-518,"y":-355,"width":348,"height":193},
		{"id":"42b079cdd67c6731","type":"text","text":"## [[🧩OpenVINS Code Analysis#visualize_odometry|visualize_odometry]]\n\n1. initialized가 됐다면 아래 실행.\n2. [[🧩OpenVINS Code Analysis#fast_state_propagate|ov_msckf::Propagator::fast_state_propagate]]로 **imu propagation**\n3. covariance처리 후 위 결과와 같이 odomIinM 메시지 안에 넣어주기\n4. pub_odomimu.publish(odomIinM)\n","x":-529,"y":-1340,"width":369,"height":240},
		{"id":"f7b106a833e762d1","type":"text","text":"#### [[🧩OpenVINS Code Analysis#fast_state_propagate|ov_msckf::Propagator::fast_state_propagate]]\n1. state에서 imu 부분 가져오기.\n2. state와 현재 msg까지 imu값들 가져오기.\n3. state의 imu bias, intrinsic 값들 복사생성\n4. imu 값 intrinsic 보정 (midPoint 방식).\n5. <span style=\"color:red\">Discrete-time Error-state propagation.</span>","x":-220,"y":-1200,"width":540,"height":320},
		{"id":"5f7320fe30e14c75","type":"text","text":"## [[🧩OpenVINS Code Analysis#feed_measurement_Imu|VioManager::feed_measurement_imu]]\n\noldest time보다 오래된 imu_clones 제거하고 feed_imu","x":-518,"y":-2189,"width":348,"height":209},
		{"id":"cec5e101ca05182d","type":"text","text":"## 전후 관계는 위아래로 기술 (계층적으로)\n## 같은 함수 내의 세부 내용은 옆으로 기술","x":-875,"y":-2530,"width":560,"height":140},
		{"id":"99bed7cdb7bf11b4","type":"text","text":"## Thread 사용\n### 1. [[🧩OpenVINS Code Analysis#feed_measurement_camera|VioManager::feed_measurement_camera]] && [[🧩OpenVINS Code Analysis#visualize|visualize]]\n### 2. [[🧩OpenVINS Code Analysis#try_to_initialize|VioManager::try_to_initialize]]\n### 3. [[🧩OpenVINS Code Analysis#publish_images|ROS1Visualizer::publish_images]]\n\tuse_multi_threading_pubs가 true일 때, 그럼 이 때 visualize에서는 image 안 보냄.\n\n","x":-1588,"y":-3081,"width":568,"height":461},
		{"id":"88e7f866e9022b71","type":"text","text":"#### [[🧩OpenVINS Code Analysis#track_image_update|VioManager::track_image_update]]\n\n","x":-220,"y":-211,"width":540,"height":98},
		{"id":"a0db2a1005d0ca70","type":"file","file":"Research/Inbox/🍯Class 구조에서 다른 클래스 불러올 때..md","x":39,"y":-2790,"width":400,"height":400},
		{"id":"d23b1680e8626d62","type":"text","text":"#### [[🧩OpenVINS Code Analysis#TrackKLT ← TrackBase#feed_new_camera|ov_core::trackKLT::feed_new_camera]]\nhistogram처리, feature detection / tracking \n*본문에서는 KLT tracking만 다룸.*\n*Descriptor로도 가능*\n","x":514,"y":-243,"width":358,"height":161},
		{"id":"68761ee8c5b34e83","type":"text","text":"#### [[🧩OpenVINS Code Analysis#try_to_initialize|VioManager::try_to_initialize]]\n","x":514,"y":520,"width":358,"height":99},
		{"id":"5204954d08878ab0","type":"text","text":"#### [[🧩OpenVINS Code Analysis#TrackKLT ← TrackBase#feed_stereo | trackKTL::feed_stereo]]","x":1031,"y":-543,"width":320,"height":80},
		{"id":"4eae81d2487811d5","type":"text","text":"#### [[🧩OpenVINS Code Analysis#InertialInitializer#initialize|InertialInitializer::initialize]]","x":1240,"y":400,"width":355,"height":61},
		{"id":"9f556ee85631d460","type":"text","text":"#### [[🧩OpenVINS Code Analysis#perform_matching|trackKLT::perform_matching]]\nfeature tracking, RANSAC으로 outlier 검출 (threshold : 2/focal_length)","x":1557,"y":-602,"width":320,"height":200},
		{"id":"5e6f0c8502e78441","type":"text","text":"#### [[🧩OpenVINS Code Analysis#perform_detection_stereo|trackKLT::perform_detection_stereo]]\n","x":1563,"y":-900,"width":308,"height":137},
		{"id":"8ab239e1464c3800","type":"text","text":"#### [[🧩OpenVINS Code Analysis#StaticInitializer#initialize|StaticInitializer::initialize]]","x":1750,"y":517,"width":340,"height":50},
		{"id":"6ff332de58fdac88","type":"file","file":"Research/Attached File/perform_detection_stereo.jpg","x":1820,"y":-1720,"width":473,"height":608},
		{"id":"2abcb92989197ca2","type":"text","text":"#### [[🧩OpenVINS Code Analysis#perform_griding|Grider_GRID::perform_griding]]\n","x":2023,"y":-880,"width":300,"height":98},
		{"id":"3a6822d76e869263","type":"text","text":"#### [[🧩OpenVINS Code Analysis#compute_disparity|FeatureHelper::compute_disparity]]\n","x":1997,"y":200,"width":406,"height":75},
		{"id":"aac8b113e02dce2c","type":"text","text":"가만히 →가만히 &&  ZUPT : StaticInitializer\n가만히 →움직임 && no ZUPT :StaticInitializer\n\n init_dyn_use && !가만히→가만히 : DynamicInitializer","x":2424,"y":279,"width":516,"height":125},
		{"id":"647965144ceb61b1","type":"text","text":"#### [[🧩OpenVINS Code Analysis#DynamicInitializer#initialize|DynamicInitializer::initialize]]\n1. [[🧩OpenVINS Code Analysis#CpiV1#feed_IMU|CpiV1::feed_IMU]]로 preintegration\n2. Ax=b 풀어서 feature position, velocity, gravity를 얻음\n\t1. gravity를 Gram-schmidt로 나머지 축을 recovery\n3. Ceres로 window 내의 pose와 feature들에 대해full optimization을 품\n4. pose covariance를 ceres로 recovery.","x":2278,"y":520,"width":602,"height":240},
		{"id":"e8526fbcf43e617f","type":"text","text":"왜 poseimu hz가 image 절반 나지?? #점검\n","x":2491,"y":-1685,"width":429,"height":85},
		{"id":"fe0d86f1678b13d9","type":"text","text":"### ZUPT (Zero Velocity Update)\n","x":1040,"y":-2480,"width":548,"height":354},
		{"id":"f7846e4144da7609","type":"text","text":"#### [[🧩OpenVINS Code Analysis#TrackDescriptor ← TrackBase#feed_new_camera|ov_core::trackDescriptor::feed_new_camera]]\n\n*stereo, monocular version에 따라 부르는 게 달라지고, binocular tracking이면 mono를 parallize해야함.*","x":2780,"y":-341,"width":424,"height":182},
		{"id":"af55553a627c6414","type":"text","text":"#### <span style=\"color:green\">std::map(size_t, int) <span style=\"color:orange\"> map_features_num_meas</span></span> : 한 feature에 몇 개의 observation이 있는지\n#### <span style=\"color:green\">std::map(double, bool) <span style=\"color:orange\">map_camera_times</span></span> : feature의 시점을 모두 저장해놓은 자료구조\n#### <span style=\"color:green\">std::map(size_t, bool)<span style=\"color:orange\"> map_camera_ids</span></span> : 저장된 feature들의 카메라 번호 존재 여부\n#### <span style=\"color:green\">double<span style=\"color:orange\"> pose_dt_avg</span></span> : 미리 설정한 원하는 initialization window 주기\n","x":3204,"y":222,"width":962,"height":239},
		{"id":"1da2c75a79510d2c","type":"text","text":"#### [[🧩OpenVINS Code Analysis#TrackDescriptor ← TrackBase#feed_stereo|TrackDescriptor::feed_stereo]]","x":3420,"y":-604,"width":357,"height":60},
		{"id":"d10f6f7231137ea7","type":"text","text":"#### [[🧩OpenVINS Code Analysis#TrackDescriptor ← TrackBase#perform_detection_stereo|TrackDescriptor::perform_detection_stereo]]","x":3967,"y":-900,"width":533,"height":139},
		{"id":"249ecc721850fa4c","type":"text","text":"#### [[🧩OpenVINS Code Analysis#TrackDescriptor ← TrackBase#robust_match|TrackDescriptor::robust_match]]","x":4041,"y":-401,"width":386,"height":151},
		{"id":"7e0a35c1f253c8f6","type":"text","text":"#### [[🧩OpenVINS Code Analysis#perform_griding|Grider_GRID::perform_griding]]","x":4660,"y":-882,"width":368,"height":103},
		{"id":"e2e775183c186b99","type":"text","text":"#### [[🧩OpenVINS Code Analysis#compute_Xi_sum|Propagator::compute_Xi_sum]]\n","x":2840,"y":1940,"width":447,"height":71},
		{"id":"eaf7dbcf85330c49","type":"text","text":"#### [[🧩OpenVINS Code Analysis#compute_F_and_G_analytic|compute_F_and_G_analytic]] \n####                       or\n#### [[🧩OpenVINS Code Analysis#compute_F_and_G_discrete|compute_F_and_G_discrete]]\n","x":2840,"y":2400,"width":447,"height":160},
		{"id":"6983aeedcd89e42f","type":"text","text":"#### [[🧩OpenVINS Code Analysis#predict_mean_rk4|predict_mean_rk4]]","x":2940,"y":2175,"width":247,"height":55},
		{"id":"673ae5323a057f68","type":"text","text":"#### [[🧩OpenVINS Code Analysis#predict_mean_discrete|predict_mean_discrete]]\n","x":3243,"y":2173,"width":317,"height":57},
		{"id":"958a6034d9047325","type":"text","text":"#### [[🧩OpenVINS Code Analysis#predict_mean_analytic|predict_mean_analytic]]\n","x":2600,"y":2180,"width":300,"height":50},
		{"id":"d63e5948e922df2e","type":"text","text":"#### [[🧩OpenVINS Code Analysis#do_feature_propagate_update|VioManager::do_feature_propagate_update]]","x":514,"y":2480,"width":358,"height":87},
		{"id":"399c161812e65114","type":"text","text":" to its corrected frame using the IMU intrinsics\n  Eigen::Vector3d w_uncorrected = w_hat_avg;state의 시간 + td_last ~ 현재 imu 시간 + td간 IMU에 대해서 \n#### [[🧩OpenVINS Code Analysis#predict_and_compute|Propagator::predict_and_compute]]로 imu state propagation\n#### next State Jacobian과 noise Jacobian 구함.\n","x":1920,"y":2040,"width":495,"height":200},
		{"id":"e75606b9f2efb9c2","type":"text","text":"#### [[🧩OpenVINS Code Analysis#EKFPropagation|StateHelper::EKFPropagation]]","x":1920,"y":2426,"width":495,"height":54},
		{"id":"ac07a63a9c4939c4","type":"text","text":"#### [[🧩OpenVINS Code Analysis#propagate_and_clone|Propagator::propagate_and_clone]]\nfilter 방식에서는 image가 들어올 때마다 하는 거구나. \noptimization은 imu 주기마다 preintegration해줬는데","x":1240,"y":2320,"width":420,"height":160},
		{"id":"dde18225784ba703","type":"text","text":"#### [[🧩OpenVINS Code Analysis#augment_clone|StateHelper::augment_clone]](state, last_w)","x":1920,"y":2607,"width":495,"height":113},
		{"id":"901563b571c1d80a","type":"text","text":"1. `feats_lost` : 현재 발견 안 된 feature들\n2. `feats_marg` : state의 제일 오래된 시간에 발견된 feature들 (중에서 `feats_lost` 와 겹치는 애들 삭제, 즉 현재 발견된 feature들)\n3. `feats_maxtracks` : `feats_marg`인 애들 중에서 max_clone_size보다 많이 발견된 feature들 - 이 중에서 `feats_slam`에 들어간 뒤에 애들\n4. `feats_slam` :  state→_features_SLAM에서 겹치는 애들. \n5. `feats_slam_UPDATE` : `feats_slam`과 `_features_SLAM`과 겹치는 feature \n6. `feats_slam_DELAYED` : `feats_slam`과 `_features_SLAM`과 안 겹치는 feature\n7. `featsup_MSCKF` : `feats_lost`, `feats_marg`, `feats_maxtracks` 순으로 저장한 것.","x":1093,"y":2960,"width":715,"height":300},
		{"id":"b7165fff87131d79","x":1157,"y":3400,"width":588,"height":60,"type":"text","text":"#### sort(featsup_MSCKF,[[🧩OpenVINS Code Analysis#do_feature_propagate_update#compare_feat|VioManager::{compare_feat}]])"},
		{"id":"d7acb69a62047962","x":1175,"y":3560,"width":551,"height":72,"type":"text","text":"#### [[🧩OpenVINS Code Analysis#UpdaterMASCKF::update|UpdaterMSCKF::update]](state, featsup_MSCKF)"},
		{"id":"1c49b5760ec34659","x":1237,"y":3720,"width":427,"height":50,"type":"text","text":"#### [[🧩OpenVINS Code Analysis#Propagator#invalidate_cache|Propagator::invalidate_cache]]"}
	],
	"edges":[
		{"id":"a343533b66a1f24a","fromNode":"8cb88f8cda3a7aa8","fromSide":"right","toNode":"5f7320fe30e14c75","toSide":"left"},
		{"id":"1de61e70cd4e3cce","fromNode":"5f7320fe30e14c75","fromSide":"bottom","toNode":"42b079cdd67c6731","toSide":"top"},
		{"id":"d1f489d8fae996b9","fromNode":"42b079cdd67c6731","fromSide":"bottom","toNode":"280a3c8c9c105d74","toSide":"top"},
		{"id":"bbe24212e03df7e7","fromNode":"88e7f866e9022b71","fromSide":"right","toNode":"d23b1680e8626d62","toSide":"left"},
		{"id":"430557fa6c15ed6b","fromNode":"d23b1680e8626d62","fromSide":"bottom","toNode":"68761ee8c5b34e83","toSide":"top"},
		{"id":"c3e518738fa0448d","fromNode":"68761ee8c5b34e83","fromSide":"bottom","toNode":"d63e5948e922df2e","toSide":"top"},
		{"id":"39cb71425f3f6c15","fromNode":"d23b1680e8626d62","fromSide":"right","toNode":"5204954d08878ab0","toSide":"left"},
		{"id":"182377ef2bcb78b8","fromNode":"5204954d08878ab0","fromSide":"right","toNode":"5e6f0c8502e78441","toSide":"left"},
		{"id":"19a5f23040685cb0","fromNode":"5e6f0c8502e78441","fromSide":"bottom","toNode":"9f556ee85631d460","toSide":"top"},
		{"id":"193fbf09c9151227","fromNode":"5e6f0c8502e78441","fromSide":"right","toNode":"2abcb92989197ca2","toSide":"left"},
		{"id":"1fc465c87c47ed2e","fromNode":"68761ee8c5b34e83","fromSide":"right","toNode":"4eae81d2487811d5","toSide":"left"},
		{"id":"e0ee1a4a1eb6c97d","fromNode":"4eae81d2487811d5","fromSide":"right","toNode":"3a6822d76e869263","toSide":"left"},
		{"id":"faa5f1947e1642db","fromNode":"3a6822d76e869263","fromSide":"bottom","toNode":"8ab239e1464c3800","toSide":"top"},
		{"id":"c323148ca30bb3c9","fromNode":"3a6822d76e869263","fromSide":"bottom","toNode":"647965144ceb61b1","toSide":"top"},
		{"id":"20c7b832954dad80","fromNode":"d63e5948e922df2e","fromSide":"right","toNode":"ac07a63a9c4939c4","toSide":"left"},
		{"id":"943ff6e49c985932","fromNode":"ac07a63a9c4939c4","fromSide":"right","toNode":"399c161812e65114","toSide":"left"},
		{"id":"9f89646097bce7a3","fromNode":"399c161812e65114","fromSide":"right","toNode":"e2e775183c186b99","toSide":"left"},
		{"id":"4bbc4b7a08c80412","fromNode":"e2e775183c186b99","fromSide":"bottom","toNode":"958a6034d9047325","toSide":"top"},
		{"id":"d396dc4e20772254","fromNode":"e2e775183c186b99","fromSide":"bottom","toNode":"6983aeedcd89e42f","toSide":"top"},
		{"id":"3901a87e9863b26d","fromNode":"e2e775183c186b99","fromSide":"bottom","toNode":"673ae5323a057f68","toSide":"top"},
		{"id":"d99c81576e982e61","fromNode":"958a6034d9047325","fromSide":"bottom","toNode":"eaf7dbcf85330c49","toSide":"top"},
		{"id":"8ae59b30c5c84a5d","fromNode":"6983aeedcd89e42f","fromSide":"bottom","toNode":"eaf7dbcf85330c49","toSide":"top"},
		{"id":"fa541f4a2f81f8c9","fromNode":"673ae5323a057f68","fromSide":"bottom","toNode":"eaf7dbcf85330c49","toSide":"top"},
		{"id":"4a2948138073d069","fromNode":"399c161812e65114","fromSide":"bottom","toNode":"e75606b9f2efb9c2","toSide":"top"},
		{"id":"8d05c1696613f255","fromNode":"e75606b9f2efb9c2","fromSide":"bottom","toNode":"dde18225784ba703","toSide":"top"},
		{"id":"3b2e89c39de6dab9","fromNode":"f7846e4144da7609","fromSide":"right","toNode":"1da2c75a79510d2c","toSide":"left"},
		{"id":"9922c7d79236aeeb","fromNode":"1da2c75a79510d2c","fromSide":"right","toNode":"d10f6f7231137ea7","toSide":"left"},
		{"id":"96c472154d6ecc69","fromNode":"d10f6f7231137ea7","fromSide":"bottom","toNode":"249ecc721850fa4c","toSide":"top"},
		{"id":"36867a4a1334d7e5","fromNode":"d10f6f7231137ea7","fromSide":"right","toNode":"7e0a35c1f253c8f6","toSide":"left"},
		{"id":"7ba18d22b4ed0104","fromNode":"ac07a63a9c4939c4","fromSide":"bottom","toNode":"901563b571c1d80a","toSide":"top"},
		{"id":"0fa958191f68aab9","fromNode":"901563b571c1d80a","fromSide":"bottom","toNode":"b7165fff87131d79","toSide":"top"},
		{"id":"2586e29df5f61239","fromNode":"b7165fff87131d79","fromSide":"bottom","toNode":"d7acb69a62047962","toSide":"top"},
		{"id":"f04476cec7a94507","fromNode":"d7acb69a62047962","fromSide":"bottom","toNode":"1c49b5760ec34659","toSide":"top"}
	]
}